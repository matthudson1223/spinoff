# NeuroGrid Digital - War Room Dashboard

A cyberpunk-themed real-time trading dashboard for monitoring AI agent trading activity. Built with Next.js, React, Tailwind CSS, and Framer Motion.

## Features

### ü§ñ Agent Roster (Left Sidebar)
- Real-time status monitoring for all AI agents (Prime, Sentinel, Executor, Warden)
- Animated status indicators:
  - **Green (Pulsing)**: Agent is online and operational
  - **Yellow (Pulsing)**: Agent is thinking/processing
  - **Red**: Agent has encountered an error
- Live action ticker showing what each agent is currently doing

### üìä Opportunity Feed (Center Panel)
- Stream of trade proposals generated by AI agents
- Color-coded zones based on risk/gas cost:
  - **Green Zone** ($0-$20 gas): Auto-executed
  - **Yellow Zone** ($20-$100 gas): Requires manual approval
  - **Red Zone** (>$100 gas): High risk, manual approval required
- Each trade card displays:
  - Token pair ticker (e.g., ETH-USDC)
  - Confidence score
  - Reasoning/rationale
  - Gas estimate, slippage tolerance, and liquidity
- Interactive APPROVE/REJECT buttons with satisfying click animations

### üí∞ Execution Panel (Right Sidebar)
- **Live P&L Display**:
  - Total portfolio value
  - 24-hour change ($ and %)
  - Color-coded profit/loss indicators
- **Emergency Halt Button**: Red glowing kill switch to stop all trading
- **Transaction History**: Scrollable log of executed trades with:
  - Timestamps
  - Transaction hashes
  - Profit/loss per trade
  - Gas costs

### ‚öôÔ∏è Constitution Modal
- Click the settings gear icon to view trading rules
- Displays hard-coded parameters from Constitution.py:
  - Max daily drawdown
  - Green/Yellow/Red zone gas limits
  - Confidence thresholds
  - Risk parameters
- Read-only code block presentation

### üí¨ AI Chat Interface with LangChain (ENHANCED!)
- **Interactive chat with Prime agent**: Click the floating chat button in the bottom right
- **Powered by LangChain + Hugging Face**: Advanced conversation management with Qwen 2.5-7B-Instruct model
- **Enhanced features**:
  - Structured conversation chains for better context understanding
  - Extended conversation memory (up to 8 messages)
  - Multi-tier fallback system for maximum reliability
  - Foundation for future tool calling and RAG capabilities
- **Smart fallback system**: Three-tier fallback (LangChain chain ‚Üí Simple invoke ‚Üí Mock responses)
- **Context-aware conversations**: Advanced memory management for coherent multi-turn dialogue
- **Agent personality**: Prime responds with technical trading insights and market analysis
- **Ask about**:
  - Market conditions and analysis
  - Trade opportunities and signals
  - Portfolio status and risk metrics
  - Specific cryptocurrencies (BTC, ETH, SOL, etc.)
- **Minimizable interface**: Clean, cyberpunk-styled chat window that doesn't obstruct the dashboard
- **Ready for expansion**: Trading analysis tools built and ready for future activation

See [LANGCHAIN_GUIDE.md](LANGCHAIN_GUIDE.md) for detailed integration documentation.

## Tech Stack

- **Framework**: Next.js 15 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Icons**: Lucide React
- **Animations**: Framer Motion
- **AI Integration**:
  - LangChain (conversation chains, memory, tools)
  - Hugging Face Inference API (Qwen 2.5-7B-Instruct)
  - Zod (schema validation for tools)
- **Theme**: Bloomberg Terminal meets Cyberpunk

## Design Philosophy

### Color Palette
- Background: `slate-900` (dark)
- Primary accent: `emerald-500` (neon green for profits)
- Error/loss: `rose-500` (red for losses)
- Warning: `amber-400` (yellow for alerts)

### Typography
- All numerical data uses monospace fonts
- Glowing text effects for headers
- Uppercase tracking for section titles

## Getting Started

### Installation

```bash
npm install
```

### Environment Setup (Optional - for Hugging Face Integration)

The chat feature works with intelligent mock responses out of the box. To enable real AI responses using Hugging Face:

1. Get a free Hugging Face API key:
   - Visit [https://huggingface.co/settings/tokens](https://huggingface.co/settings/tokens)
   - Create a new access token (read access is sufficient)

2. Create a `.env.local` file in the project root:
   ```bash
   cp .env.example .env.local
   ```

3. Add your API key to `.env.local`:
   ```
   HUGGINGFACE_API_KEY=hf_your_actual_api_key_here
   ```

4. Restart the development server

**Note**: The app will automatically fall back to smart mock responses if no API key is provided, so this step is completely optional!

### Development

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) in your browser.

### Build

```bash
npm run build
npm start
```

## Project Structure

```
war-room/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chat/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts     # Hugging Face API endpoint
‚îÇ   ‚îú‚îÄ‚îÄ globals.css          # Global styles with Tailwind
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx           # Root layout
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx             # Main dashboard page
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ AgentRoster.tsx      # Left sidebar - agent status
‚îÇ   ‚îú‚îÄ‚îÄ OpportunityFeed.tsx  # Center panel - trade proposals
‚îÇ   ‚îú‚îÄ‚îÄ ExecutionPanel.tsx   # Right panel - P&L and history
‚îÇ   ‚îú‚îÄ‚îÄ ConstitutionModal.tsx # Settings modal
‚îÇ   ‚îî‚îÄ‚îÄ ChatBox.tsx          # AI chat interface (NEW!)
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ mockData.ts          # Mock data for agents, trades, etc.
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts             # TypeScript type definitions
‚îú‚îÄ‚îÄ .env.example             # Environment variable template
‚îî‚îÄ‚îÄ .gitignore               # Git ignore rules
```

## Mock Data

The application is pre-populated with sample data:

- **4 AI Agents**: Prime, Sentinel, Executor, Warden
- **2 Trade Proposals**:
  1. ETH-USDC (92% confidence, Green Zone - Auto-executed)
  2. PEPE-SOL (65% confidence, Yellow Zone - Needs approval)
- **2 Executed Trades**: Recent transaction history

## Interactions

1. **Approve a Trade**: Click the green APPROVE button on yellow zone trades
2. **Reject a Trade**: Click the red REJECT button to dismiss
3. **Emergency Halt**: Click the red EMERGENCY HALT button to stop all trading
4. **View Constitution**: Click the settings gear icon in the top right
5. **Chat with Prime**: Click the floating "Chat with Prime" button in the bottom right
6. **Ask Questions**: Type questions about markets, trades, portfolio, or specific cryptocurrencies
7. **Minimize Chat**: Click the minimize icon to collapse the chat window

## Animations

- Trade cards slide in from bottom when new proposals arrive
- Agent status dots pulse based on their state
- Buttons have satisfying scale animations on click
- Modal fades in with spring animation
- Chat messages appear with smooth fade-in animations
- Floating chat button scales on hover
- Smooth transitions throughout

## AI Chat Capabilities

The Prime agent chat is powered by Hugging Face's Phi-3-mini-4k-instruct model and can:

- Analyze market conditions and trends
- Provide trading insights and recommendations
- Discuss specific cryptocurrencies (BTC, ETH, SOL, etc.)
- Explain portfolio metrics and risk parameters
- Answer questions about current trades and opportunities
- Maintain context across conversation for natural dialogue

### Example Questions to Ask Prime:

- "What's your analysis on ETH right now?"
- "How's our portfolio performing?"
- "Tell me about the BTC market"
- "What trades are you watching?"
- "What's our current risk exposure?"

## Future Enhancements

- WebSocket integration for real-time data updates
- Historical performance charts and analytics
- Advanced filtering and sorting for trades
- Multi-portfolio support
- Mobile responsive layout
- Dark/light theme toggle
- Custom alert configuration
- Chat with other agents (Sentinel, Executor, Warden)
- Voice input for chat interface
- Export chat history and trade logs

## License

MIT
